---
#- hosts: eventhorizon
- hosts: localhost
  gather_facts: yes
  sudo: true
  vars:
    hostname: eventhorizon
    os_username:    'phill'
    backup_dir_root: /home/phill/Dropbox/0-Backups
    common_install_comm: false
    git_user_name:  "Patrick Hill"
    git_user_email: "Hill@HillsPCWorld.com"
    ssh_port: 22 # Defaults to 22, encrypt true value
    vnc_password: welcome1 # Defaults to 'welcome1', encrypt true value
    nfs_server: 10.0.0.150
    nfs_shares:
      shared:
        name: shared
        source: {{ nfs_server }}:/mnt/R6-18TB/Hills_Shared
        type: nfs4
        opts: rw,hard,intr,rsize=8192,wsize=8192
      main:
        name: main
        source: 10.0.0.150:/mnt/R6-18TB/Hill_Main
        type: nfs4
        opts: rw,hard,intr,rsize=8192,wsize=8192
      games:
        name: games
        source: 10.0.0.150:/mnt/R6-12TB/Games
        type: nfs4
        opts: rw,hard,intr,rsize=8192,wsize=8192

  pre_tasks:
    - shell: echo 'Starting...'
    
  roles:
    - dropbox
    - common
    - nfs-mounts
    - autokey
    - chrome
    - conky
    - gitkraken
    - git-config
    - intellij
    - jdk8
    - packer
    - remmina
    - ssh-server
    - vagrant
    - virtualbox
    - vs-code
    - what-pulse

  post_tasks:
#    - name: Clone repo
#      git:  repo=ssh://git@github.com/patrick-hill/hpcw_dotfiles.git
#            dest={{ src_dir }}/hpcw/hpcw_dotfiles
#            accept_hostkey=yes
#
#    - name: Run dotfile setup
#      shell: {{ src_dir }}/hpcw/hpcw_dotfiles/setup.sh

    # - name: Symlink ssh dir
    #   file:
    #     src: {{ backup_dir_root }}/ssh/{{ hostname }}
    #     dest: /home/{{ os_username }}/.ssh
    #     state: link
    
    # - name: Set owner of .ssh
    #   shell: chown -R {{ os_username }}:{{ os_username }} /home/{{ os_username }}/.ssh
    
    - shell: echo 'Done'

